### 文档https://github.com/hooke007/MPV_lazy/blob/main/portable_config/mpv.conf

#所有后处理着色器与[video-sync = display-resample]冲突（例如Anime4K、SSimDownscaler）

### 配置文件
input-conf = "~~/input.conf"                                # 追加额外快捷键方案
include = "~~/profiles.conf"                                # 追加额外profiles配置文件
include = "~~/script-opts.conf"                             # 追加额外script-opts配置文件
use-filedir-conf = yes                                      # 允许使用特定文件的设置文件

### 硬件
vo = gpu-next                                               # 视频输出驱动设置
gpu-context = d3d11                                         # 图形输出后端设置
d3d11-flip = no                                             # 禁用以避免MPV全屏时的冻屏问题
hwdec = d3d12va-copy,nvdec-copy                             # 指定应使用的硬件视频解码API以开启硬解且允许滤镜
hwdec-codecs = all                                          # 对任意格式尝试硬解
vd-lavc-dr = yes                                            # 解码到显存
d3d11-adapter = "NVIDIA GeForce RTX 3060 Laptop GPU"        # 指定主渲染输出显卡[gpu-context = d3d11时生效]
vulkan-device = "NVIDIA GeForce RTX 3060 Laptop GPU"        # 指定主渲染输出显卡[gpu-context = winvk时生效]

### 功能
idle = yes                                                  # 中止播放或所有文件播放后保持运行
input-builtin-bindings = no                                 # 禁用内置快捷键
hr-seek-framedrop = no                                      # 禁止跳转时丢帧
save-position-on-quit = no                                  # 退出时丢弃播放状态
keep-open = yes                                             # 列表文件播放完毕后暂停
border = no                                                 # 隐藏Windows框架
keepaspect-window = no                                      # 窗口自由拉伸
snap-window = yes                                           # 开启边缘吸附
hidpi-window-scale = no                                     # 禁止高分辨率缩放
priority = high                                             # 设置进程高优先级
msg-level = all=info                                        # 日志等级
quiet = yes                                                 # 使控制台的输出不过于冗长
log-file = ~~home/mpv.log                                   # 输出日志于配置文件目录
input-builtin-bindings = no                                 # 禁用内置快捷键

### 缓存
cache = yes                                                 # 开启缓存
cache-on-disk = no                                          # 缓存于内存而不是硬盘中
demuxer-max-bytes = 2048MiB                                 # 播放网络视频时向后缓存大小
icc-cache = yes                                             # 本地存储ICC配置文件3dlut缓存以加快加载速度
gpu-shader-cache = yes                                      # 在本地存储GLSL着色器编译缓存以提高启动性能
icc-cache-dir = "~~/_cache/icc"                             # ICC配置文件3dlut缓存目录
gpu-shader-cache-dir = "~~/_cache/shader"                   # GLSL着色器编译缓存目录
watch-later-directory = "~~/_cache/watch_later"             # 稍后观看功能缓存目录

### OSD(On-Screen-Display/屏显信息)
osd-on-seek = msg                                           # 在跳转时间轴时显示的信息类型
osd-blur = 1                                                # OSD高斯模糊系数
osd-bar-w = 100                                             # osd-bar宽度
osd-bar-h = 1.5                                             # osd-bar高度
osd-bar-align-y = -1                                        # osd-bar垂直位置
osd-color = "#39C5BB"                                       # OSD颜色
osd-border-color = "#FFFFFF"                                # OSD边框颜色
osd-border-size = 1                                         # OSD边框尺寸
osd-font-size = 40                                          # OSD字体大小
osd-fractions = yes                                         # 以秒为单位显示OSD时间（毫秒精度），有助于查看视频帧的确切时间戳
osd-playing-msg = "${filename}"                             # 文件开始播放时短暂显示文件名
osd-duration = 2000                                         # OSD文本信息的持续时间（毫秒）

### 音频 
ao = wasapi                                                 # 指定音频输出驱动程序
volume = 100                                                # 播放器启动音量
ad-lavc-threads = 0                                         # 自动检测并设置解码线程数量
audio-channels = stereo                                     # 强制多声道音源下混为双声道输出
audio-pitch-correction = yes                                # 变速播放时修正音调
audio-file-auto = fuzzy                                     # 自动加载近似名的外置音轨

### 画面
target-trc = gamma2.2                                       # 使用指定的传输特性修正以贴合SRGB标准
video-output-levels = full                                  # 使用全范围的动态范围（0-255）
video-sync = display-resample                               # 视频帧匹配刷新率（帧采样），自动调节音频速度补偿偏移
video-sync-max-factor = 10                                  # 视频加速启用最大倍数
video-sync-max-video-change = 5                             # 视频最大加速差异百分比，设置为5%以将23.976fps视频加速到25fps
interpolation = yes                                         # 运动补偿，减少由于视频帧率和刷新率不匹配而引起的颤动
tscale = oversample                                         # 时间插值算法
cscale = ewa_lanczos                                        # 色度算法
scale = ewa_lanczossharp                                    # 放大算法
scale-blur=0.9264075766146068                               # 设定放大参数，模拟Polar_LanczosRadius
dscale = catmull_rom                                        # 缩小算法
sigmoid-upscaling = yes                                     # 放大时非线性的颜色转换，可避免强振铃伪影
linear-downscaling = no                                     # 禁用缩小时线性转换
dither-depth = 8                                            # 开启色深抖动弥补色彩转换损失
dither = ordered                                            # 色深抖动算法
deband = yes                                                # 启用去色带
tone-mapping = bt.2446a                                     # 色调映射转换函数
gamut-mapping-mode = perceptual                             # 色调映射转换函数作用后的目标显示器色域算法

### 内建脚本
osc = no                                                    # 关闭内置操控界面

### 字幕 
sub-auto = fuzzy                                            # 自动加载近似名的外置字幕
blend-subtitles = video                                     # 将字幕渲染到视频源分辨率并随视频一起缩放并进行色彩管理
sub-border-size = 4                                         # 字幕边框尺寸
sub-blur = 1                                                # 字幕高斯模糊系数
sub-use-margins = yes                                       # 字幕开启镶边
sub-ass-vsfilter-aspect-compat = no                         # 播放非常规比例视频时不拉伸ASS字幕
sub-ass-vsfilter-blur-compat = no                           # 通过.ass指定的分辨率而不是视频分辨率缩放"\blur"标签
sub-ass-override = no                                       # 不覆盖字幕脚本的原始样式
sub-ass-force-margins = yes                                 # 使ASS字幕尽可能输出在黑边上[blend-subtitles = video/yes时不生效]
secondary-sub-ass-override = yes                            # 次字幕渲染行为贴合主字幕
secondary-sub-pos = 100                                     # 恢复次字幕位置

### 截图
screenshot-format = png                                     # 截图格式为png
screenshot-png-compression = 0                              # png压缩等级为0（不压缩）
screenshot-directory = "~~desktop/Screenshots/"             # 截图输出路径为桌面



